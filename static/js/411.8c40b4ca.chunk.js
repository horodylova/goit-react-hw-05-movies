"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[411],{14:function(e,t,a){a.d(t,{v:function(){return n}});var n={apiKey:"a3419bb2c415f83d30bbc28c2bb776df",baseUrl:"https://api.themoviedb.org/3"}},411:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var n=a(861),s=a(439),r=a(757),i=a.n(r),c=a(791),o=a(689),v=a(340),l=a(14),u=l.v.apiKey,m=l.v.baseUrl,_=function(){var e=(0,n.Z)(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(m,"/movie/").concat(t,"?api_key=").concat(u),e.prev=1,e.next=4,v.Z.get(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(m,"/movie/").concat(t,"/credits?api_key=").concat(u),e.prev=1,e.next=4,v.Z.get(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(m,"/movie/").concat(t,"/reviews?api_key=").concat(u),e.prev=1,e.next=4,v.Z.get(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),d=a(87),f="Cast_cast-container__VofqV",w="Cast_cast-title__lvYvA",x="Cast_cast-list__ond-A",g="Cast_cast-item__6xvgR",k="Cast_cast-image__Lf-J8",j="Cast_cast-name__4kFaz",Z=a(184),y=function(e){var t=e.cast;return(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsx)("h2",{className:w,children:"Cast"}),(0,Z.jsx)("ul",{className:x,children:t.map((function(e){return(0,Z.jsxs)("li",{className:g,children:[(0,Z.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:"".concat(e.name," profile"),className:k}),(0,Z.jsx)("p",{className:j,children:e.name})]},e.id)}))})]})},b="Reviews_reviews-container__lVMo7",N="Reviews_review-list__ufE75",S="Reviews_review-item__86X7d",P="Reviews_review-author__0+Qct",C="Reviews_review-content__zziG0",R=function(e){var t=e.reviews;return(0,Z.jsx)("div",{className:b,children:(0,Z.jsx)("ul",{className:N,children:t.map((function(e){return(0,Z.jsxs)("li",{className:S,children:[(0,Z.jsx)("p",{className:P,children:e.author}),(0,Z.jsx)("p",{className:C,children:e.content})]},e.id)}))})})},O=a(911),U=function(){var e=(0,o.UO)().movieId,t=(0,c.useState)(null),a=(0,s.Z)(t,2),r=a[0],v=a[1],l=(0,c.useState)(null),u=(0,s.Z)(l,2),m=u[0],f=u[1],w=(0,c.useState)([]),x=(0,s.Z)(w,2),g=x[0],k=x[1],j=(0,o.s0)(),b=(0,o.TH)(),N=(0,c.useState)("cast"),S=(0,s.Z)(N,2),P=S[0],C=S[1];(0,c.useEffect)((function(){var t=function(){var t=(0,n.Z)(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:a=t.sent,v(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var U=function(){var t=(0,n.Z)(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(e);case 3:a=t.sent,f(a.cast),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=(0,n.Z)(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(e);case 3:a=t.sent,k(a.results),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),J=function(e){C(e)};if(!r)return(0,Z.jsx)("div",{children:"Loading..."});var V=r.title,q=r.backdrop_path,z=r.genres,A=r.overview,L=r.release_date,T=r.vote_average;return(0,Z.jsxs)("div",{className:O.Z["movie-details-container"],children:[(0,Z.jsx)("h2",{className:O.Z["movie-title"],children:V}),(0,Z.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(q),alt:"".concat(V," backdrop"),className:O.Z["movie-image"]}),(0,Z.jsxs)("div",{className:O.Z["movie-info"],children:[(0,Z.jsxs)("p",{className:O.Z["movie-genres"],children:["Genres: ",z.map((function(e){return e.name})).join(", ")]}),(0,Z.jsxs)("p",{className:O.Z["movie-overview"],children:["Overview: ",A]}),(0,Z.jsxs)("p",{children:["Release Date: ",L]}),(0,Z.jsxs)("p",{children:["Vote Average: ",T]})]}),(0,Z.jsx)("nav",{className:O.Z["movie-nav"],children:(0,Z.jsxs)("ul",{className:O.Z["movie-nav-list"],children:[(0,Z.jsx)("li",{children:(0,Z.jsx)("button",{onClick:function(){var e;"/search"===(null===(e=b.state)||void 0===e?void 0:e.from)?j("/search",{state:{searchResults:b.state.searchResults}}):j(-1),console.log(b.state)},className:O.Z["back-button"],children:"Go Back"})}),(0,Z.jsx)("li",{className:O.Z["movie-nav-item"],children:(0,Z.jsx)(d.rU,{to:"cast",className:"".concat(O.Z["movie-nav-link"]," ").concat("cast"===P&&O.Z["active-tab"]),onClick:function(){U(),J("cast")},children:"Cast"})}),(0,Z.jsx)("li",{className:O.Z["movie-nav-item"],children:(0,Z.jsx)(d.rU,{to:"reviews",className:"".concat(O.Z["movie-nav-link"]," ").concat("reviews"===P&&O.Z["active-tab"]),onClick:function(){G(),J("reviews")},children:"Reviews"})})]})}),(0,Z.jsxs)("div",{className:O.Z["movie-cast-reviews"],children:["cast"===P&&m&&(0,Z.jsx)(y,{cast:m}),"reviews"===P&&g&&(0,Z.jsx)(R,{fetchReviews:G,reviews:g})]})]})}},911:function(e,t){t.Z={"home-container":"PageStyles_home-container__hThpm","movie-list":"PageStyles_movie-list__9dx5e","movie-item":"PageStyles_movie-item__3WRpZ","movie-link":"PageStyles_movie-link__iNmaH","movies-container":"PageStyles_movies-container__I-vGq","search-results":"PageStyles_search-results__hOLzP","movie-details-container":"PageStyles_movie-details-container__iyGqo","movie-title":"PageStyles_movie-title__DJY7Y","movie-image":"PageStyles_movie-image__Q0FPF","movie-info":"PageStyles_movie-info__2OOdL","movie-genres":"PageStyles_movie-genres__E0lUx","movie-overview":"PageStyles_movie-overview__QV5hK","movie-nav":"PageStyles_movie-nav__nBHv4","movie-nav-list":"PageStyles_movie-nav-list__DTPOJ","movie-nav-item":"PageStyles_movie-nav-item__TiJWR","movie-nav-link":"PageStyles_movie-nav-link__3c282","movie-cast-reviews":"PageStyles_movie-cast-reviews__ygJws","back-button":"PageStyles_back-button__ZMA1q"}}}]);
//# sourceMappingURL=411.8c40b4ca.chunk.js.map